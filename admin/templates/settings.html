{% extends "base.html" %}
{% block content %}
<h1 class="title">Настройки</h1>
<div class="box">
    <h2 class="subtitle">Лимиты сессии</h2>
    <form method="post" action="/admin/settings/limits">
        <div class="field">
            <label class="label">Лимит токенов входящих сообщений</label>
            <div class="control">
                <input class="input" type="number" min="0" name="session_tokens_in_limit" value="{{ limit_values.session_tokens_in_limit }}" required>
            </div>
        </div>
        <div class="field">
            <label class="label">Лимит токенов ответов</label>
            <div class="control">
                <input class="input" type="number" min="0" name="session_tokens_out_limit" value="{{ limit_values.session_tokens_out_limit }}" required>
            </div>
        </div>
        <div class="field">
            <label class="label">Лимит стоимости (USD)</label>
            <div class="control">
                <input class="input" type="number" min="0" step="0.01" name="session_cost_limit" value="{{ limit_values.session_cost_limit }}" required>
            </div>
        </div>
        <div class="field is-grouped">
            <div class="control">
                <button class="button is-primary" type="submit">Сохранить</button>
            </div>
        </div>
    </form>
</div>
<table class="table is-fullwidth">
    <thead>
    <tr>
        <th>Ключ</th>
        <th>Значение</th>
    </tr>
    </thead>
    <tbody>
    {% for item in settings %}
    <tr>
        <td>{{ item.key }}</td>
        <td>{{ item.value }}</td>
    </tr>
    {% endfor %}
    </tbody>
</table>
{% endblock %}
